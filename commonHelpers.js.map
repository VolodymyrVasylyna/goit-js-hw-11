{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.getElementById('search-form');\nconst gallery = document.getElementById('gallery');\nconst loader = document.querySelector('.loader');\n\nconst searchParams = {\n  key: '42334155-d8ef6d202703fa7fdc7903459',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  q: '',\n};\n\nform.addEventListener('submit', function (e) {\n  e.preventDefault();\n  loader.style.display = 'block';\n  const inputValue = e.target.elements.input.value;\n  searchParams.q = inputValue;\n  getPhotoByName()\n    .then(images => createGallery(images))\n    .catch(error => console.log(error));\n  e.target.reset();\n});\n\nfunction getPhotoByName() {\n  const urlParams = new URLSearchParams(searchParams);\n  return fetch(`https://pixabay.com/api/?${urlParams}`).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw new Error(res.status);\n    }\n  });\n}\n\nfunction createGallery(images) {\n  if (images.hits.length === 0) {\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      messageColor: '#FFFFFF',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      maxWidth: '432px',\n    });\n    gallery.innerHTML = '';\n  } else {\n    const link = images.hits\n      .map(\n        image => `<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img class=\"gallery-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n         </a>\n         <div class=\"image-info\">\n          <p ><strong>Likes:</strong> <span class=\"text\">${image.likes}</span></p>\n          <p ><strong>Views:</strong> <span class=\"text\">${image.views}</span></p>\n          <p ><strong>Comments:</strong> <span class=\"text\">${image.comments}</span></p>\n          <p ><strong>Downloads:</strong> <span class=\"text\">${image.downloads}</span></p>\n          </div>\n          \n        `\n      )\n      .join('');\n    gallery.innerHTML = link;\n  }\n  let lightBox = new SimpleLightbox('.gallery-link');\n  lightBox.refresh();\n  loader.style.display = 'none';\n}"],"names":["form","gallery","loader","searchParams","e","inputValue","getPhotoByName","images","createGallery","error","urlParams","res","iziToast","link","image","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAe,CACnB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAG,EACL,EAEAH,EAAK,iBAAiB,SAAU,SAAUI,EAAG,CAC3CA,EAAE,eAAc,EAChBF,EAAO,MAAM,QAAU,QACvB,MAAMG,EAAaD,EAAE,OAAO,SAAS,MAAM,MAC3CD,EAAa,EAAIE,EACjBC,EAAgB,EACb,KAAKC,GAAUC,EAAcD,CAAM,CAAC,EACpC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCL,EAAE,OAAO,OACX,CAAC,EAED,SAASE,GAAiB,CACxB,MAAMI,EAAY,IAAI,gBAAgBP,CAAY,EAClD,OAAO,MAAM,4BAA4BO,CAAS,EAAE,EAAE,KAAKC,GAAO,CAChE,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAEhC,CAAG,CACH,CAEA,SAASH,EAAcD,EAAQ,CAC7B,GAAIA,EAAO,KAAK,SAAW,EACzBK,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,YAAa,OACb,kBAAmB,OACnB,SAAU,OAChB,CAAK,EACDX,EAAQ,UAAY,OACf,CACL,MAAMY,EAAON,EAAO,KACjB,IACCO,GAAS,iCAAiCA,EAAM,aAAa;AAAA;AAAA,eAEtDA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,2DAGkCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIvE,EACA,KAAK,EAAE,EACVb,EAAQ,UAAYY,CACrB,CACc,IAAIE,EAAe,eAAe,EACxC,QAAO,EAChBb,EAAO,MAAM,QAAU,MACzB"}